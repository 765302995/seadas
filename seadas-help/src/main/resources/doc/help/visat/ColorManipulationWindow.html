<!--
  ~ Copyright (C) 2010 Brockmann Consult GmbH (info@brockmann-consult.de)
  ~
  ~ This program is free software; you can redistribute it and/or modify it
  ~ under the terms of the GNU General Public License as published by the Free
  ~ Software Foundation; either version 3 of the License, or (at your option)
  ~ any later version.
  ~ This program is distributed in the hope that it will be useful, but WITHOUT
  ~ ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
  ~ FITNESS FOR A PARTICULAR PURPOSE. See the GNU General Public License for
  ~ more details.
  ~
  ~ You should have received a copy of the GNU General Public License along
  ~ with this program; if not, see http://www.gnu.org/licenses/
  -->

<html>
<head>
    <title>SeaDAS Help - Applying Color Schemes and Palettes</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="../style.css">
</head>

<body>
<table class="header">
    <tr class="header">
        <td class="header">&nbsp;
            Color Manager
        </td>

        <td class="header" align="right"><a href="../general/SeaDASOverview.html"><img src="../images/SeaDASHeader.png"
                                                                                       border="0"></a></td>
    </tr>
</table>

<br>

<p>The <img src="images/icons/ContrastStretch24.png"> <b>Color Manager</b> tool displays and modifies the color scheme
    and color palette used in a visual image of a band's data.

<li>Tools -> Tool Windows -> Color Manager</li>
<li>Also available as a docked tab (default layout: lower left side)</li>

</p>

<hr>
<h4>Schemes and Palettes</h4>

<p>
    A <b>color palette</b> refers to a set of rgb color values with corresponding (preferably normalized) data values.
    A <b>color scheme</b> denotes which color palette to use, the minimum and maximum values to apply to the palette,
    and whether the palette is to be displayed with log or linear scaling.<br><br>

    The color palettes are stored in color palette definition (cpd) text files. New cpd files can be created
    within SeaDAS and saved with the "Save CPD File" button.<br><br>

    The color schemes are stored in the following text files:
<ul>
    <li>defaults_color_palette_schemes.txt : contains the schemes which will be loaded by default keyed on the band's
        name.
    </li>
    <li>standard_color_palette_schemes.txt : contains the user selectable schemes</li>
</ul>

Note: All color schemes and cpd files are located in the .seadas directory
(~/.seadas/beam-ui/auxdata/color-palettes/). External cpd files can be copied into this directory and will show up
in SeaDAS when it is next launched. Scheme files can be hand-edited to add new schemes or modify existing ones.<br><br>
</p>

<hr>
<h4>Editors</h4>

<p>
    The color manager contains 3 editor screens:
<ul>
    <li>Basic Editor:
        <ul>
            <li>load scheme</li>
            <li>load/save cpd file</li>
            <li>set range minimum maximum</li>
        </ul>
    </li>
    <li>Sliders Editor:
        <ul>
            <li>displays histogram on top of color-bar</li>
            <li>automatically or manually adjust individual value-color point pairs using movable sliders</li>
            <li>add/remove value-color point pairs</li>
            <li>generate statistics for minimum and maximum band data value</li>
        </ul>
    </li>
    <li>Table Editor:
        <ul>
            <li>change value-color point pairs using a text field table</li>
        </ul>
</ul>
</p>


<hr>
<h4>Basic Editor</h4>

<p>
    <img src="images/color_manager_basic.png"><br><br>
    </p>

<p>
    <b>Icons</b>
    <ul>
   <li><img src="images/icons/Undo24.gif"> :  resets to the default color scheme</li>
    <li><img src="images/icons/MultiAssignBands24.gif"> :  toggles between log and linear display, redistributing palette points accordingly</li>
    <li><img src="images/icons/LogDisplay24.png"> :  applies current selected color scheme to other bands</li>
</ul><br>

    <b>Scheme Panel</b>
<ul>
    <li><b>Standard Schemes Selector</b> : Select and load a pre-defined scheme. The
        loaded scheme name will be displayed directly above this selector. Any alteration to parameters subsequent to
        selection of a scheme will result in an asterisks displayed with the scheme name. <br><br>
        Note: this selector selects schemes from the 'standard_color_palette_schemes.txt' file,
        if the scheme was loaded by default then the scheme name comes from 'defaults_color_palette_schemes.txt' file.

    </li>
</ul><br>
<b>Cdp File Panel</b>
<ul>
    <li><b>Color Bar Selector</b> : Select a cpd file.  Selector shows a visual representation of each color palette as a
        color bar. Hovering the mouse over a selection will display it's cpd file name.
    </li>
    <li><b>Load cpd file exact values</b> : selecting this checkbox will load in the cpd file values exactly as they are,
        replacing the currently loaded Minimum and Maximum range values as well as the log scaling with those of the cpd
        file.  Unchecked, the behaviour is to just load in the palette, maintain the user selected log scaling, and
        redistribute the palette data points between the user selected Minimum and Maximum range values.
    </li>
    <li><b>Save CPD File Button</b> : save the current settings to a new cpd file name.  Once saved, this new cpd file
    becomes the currently selected cpd file in the Schemes Panel.</li>
</ul><br>
<b>Range Panel</b>
<ul>
    <li><b>Min Textfield</b> : redistributes the palette using this minimum range value</li>
    <li><b>Max Textfield</b> : redistributes the palette using this maximum range value</li>
    <li><b>Set from Band Data Button</b> : redistributes the palette using band data statistics to determine the
    minimum and maximum range value.</li>
</ul><br>
</p>

<hr>
<h4>Sliders Editor</h4>

<p>
    <img src="images/color_manager_sliders.png"><br><br>
</p>

<p>
    <b>Sliders</b>
    <ul>
    <li><b>Change Data Value</b> : left clicking a slider and moving it will alters it data value for that value-color point pair.</li>
    <li><b>Change Color</b> : left clicking a slider brings about a color dialog box to enable an alteration of the color
    for that value-color point pair.</li>
    <li><b>Add Value-Color Point Pair</b> : right click a slider to add a new point AFTER the slider clicked</li>
    <li><b>Remove Value-Color Point Pair</b> : right click a slider to remove that slider's value-color point pair</li>
    </ul>

    <b>Rough Statistics</b> : this underlined selected option will appear in the information above the histogram display
    if the current statistics are rough statistics.  Clicking on this will enable the running a complete band statistics
    which includes all pixel data value in the determination of the data minimum and maximum range.  <br><br>

    <b>Icons</b>
<ul>
    <li><img src="images/icons/Undo24.gif"> :  resets to the default color scheme</li>
    <li><img src="images/icons/MultiAssignBands24.gif"> :  toggles between log and linear display, redistributing palette points accordingly</li>
    <li><img src="images/icons/LogDisplay24.png"> :  applies current selected color scheme to other bands</li>
    <li><img src="images/icons/Auto95Percent24.gif"> : adjusts the sliders to cover 95% of all pixels in the band.</li>
    <li><img src="images/icons/Auto100Percent24.gif"> : adjusts the sliders to cover 100% of all pixels in the band.</li>
    <li><img src="images/icons/ZoomIn24V.gif"> : zoom in on the histogram display vertically </li>
    <li><img src="images/icons/ZoomOut24V.gif"> :  zoom out on the histogram display vertically </li>
    <li><img src="images/icons/ZoomIn24H.gif"> : zoom in on the histogram display horizontally </li>
    <li><img src="images/icons/ZoomOut24H.gif"> : zoom out on the histogram display horizontally </li>
    <li><img src="images/icons/EvenDistribution.gif"> : distributes the sliders evenly between the first and the last slider.</li>
    <li><img src="images/icons/Information24.gif"> : toggles visibility of statistic information in histogram display </li>

</ul><br>
</p>

<hr>
<h4>Table Editor</h4>

<p>
    <img src="images/color_manager_table.png"><br><br>
</p>

For each value-color point pair the color and/or it's value can be changed with this editor.<br><br>
<b>Icons</b>
<ul>
    <li><img src="images/icons/Undo24.gif"> :  resets to the default color scheme</li>
    <li><img src="images/icons/MultiAssignBands24.gif"> :  toggles between log and linear display, redistributing palette points accordingly</li>
</ul>
<br>
</p>

<hr>

<h4>More Options</h4>

<ul>
    <li><b>No-data color</b> : selects no-data color for this band</li>
    <li><b>Histogram matching</b> : It is sometimes desirable to transform an image so that it's histogram matches that of a
        specified functional form. It is possible to apply an equalized or normalized
        histogram matching to images which can often improve image quality.</li>
    <li><b>Discrete colors</b> : use only the discrete colors as defined in the palette</li>
</ul>

<hr>
<h4>RGB Image</h4>

<p>Images using separate R,G,B channels use obtain their colours from the samples of three arbitrary bands. In the
    editor, users
    can switch between the channels in order to edit the contrast stretch range and gamma value of each channel
    separately.</p>

<p align="center"><img src="images/ColManipRGB.png"></p>

<p>In this mode the sliders are used for contrast stretching in each of the R,G,B channels.
    In the <b>More Options</b> panels, you can adjust the <b><a href="#nodata">No-Data Colour</a></b> and
    <b><a href="#histomatch">Histogram Matching</a></b> for the final image. The <b>Source Band</b> and <b>Gamma</b>
    options
    apply to each channel. The gamma value is used to adapt the transfer function which quantises the band's
    sample values to colour values. A gamma value of <code>0.7</code> for the blue channel enhances most
    RGB images.
</p>




</body>
</html>