<html xmlns="http://www.w3.org/1999/html">
<head>
    <title>SeaDAS Example - Mosaic Gpt</title>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
    <link rel="stylesheet" href="../style.css">
</head>

<body>


<div class="center">
    <a href="index.html"><img src="../images/SeaDASHeader.png" border="0"></a><br>
    <h2>SeaDAS Example: Mosaic GPT</h2>

    <table class="invisibletable">
        <tr class="invisibletable">
            <td class="invisibletable">
                <p>
                    <a href="Statistics.html#Overview" class="invisibleLink">Overview</a><br>
                    <a href="Statistics.html#GetData" class="invisibleLink">Get The Data</a><br>
                    <a href="Statistics.html#DailyInGUI" class="invisibleLink">Create Daily File in GUI</a><br>
                    <a href="Statistics.html#DailyInGPT" class="invisibleLink">Create Daily File in GPT</a><br>
                    <a href="Statistics.html#Monthly" class="invisibleLink">Create the Monthly</a><br>
                    <a href="Statistics.html#Script" class="invisibleLink">Scripting the Creation of the Daily Files</a><br>
                </p>
            </td>
        </tr>
    </table>
</div>


<br>
<br>


<hr>
<a name="Overview"></a>
<div class="center">
    <p class="subSectionTitle">Overview</p>
</div>
<br>

<p>
    In this example you will see how to use the SeaDAS command line tool (GPT) to run the SeaDAS Mosaic tool to
    generate a 1km Chlorophyll monthly product along with its constituent daily files. The specific projection we will
    use will be a Lambert Equal-Area projection and the region will be the Gulf of Mexico. The sensor will be MODIS
    Aqua and the time frame will be a January 2017 monthly. The input files will be level2 OB.DAAC files. Using this
    example as a starting point model, you should be able to customize this to you own specific criteria
</p>

<p>
    Examples for running GPT at the command line to create a mosaic of level2 files bounded in the region of the Gulf of Mexico.
</p>
<br>
<p>
<b>Example 1: Standard Geographic Lat/Lon Projection</b>
</p><table><tr><td bgcolor="#dddddd">
<pre>
gpt.sh mosaicGeneral.xml -p mosaicGeoLatLonGulfOfMexico.par `cat level2Files.txt` -t A20170212017023_mosaicGeoLatLonGulfOfMexico.dim
</pre>
</td></tr></table>

<br>
<p>
<b>Example 2: Lambert Azimuthal Projection</b>
</p>
<table><tr><td bgcolor="#dddddd">
<pre>
gpt.sh mosaicGeneral.xml -p mosaicLambertAzimuthalGulfOfMexico.par `cat level2Files.txt` -t A20170212017023_mosaicLambertAzimuthalGulfOfMexico.dim
</pre>
</td></tr></table>


<br>
<p>
<b>Example 3: Oblique Stereographic Projection</b>
</p>
<table><tr><td bgcolor="#dddddd">
<pre>
gpt.sh mosaicGeneral.xml -p mosaicObliqueStereographicGulfOfMexico.par `cat level2Files.txt` -t A20170212017023_mosaicObliqueStereographicGulfOfMexico.dim
</pre>
</td></tr></table>


<br>
<p>The following files are used in the above examples:</p>

<br>
<p>
<b>File = mosaicGeneral.xml</b><br>
    This is a general xml input file for creating a GPT mosaic which uses variable parameters.  This file assumes 1 band and
    1 validation expression.  To change number of bands or expressions this file would need to be edited.
</p>
<table><tr><td bgcolor="#dddddd">

<pre>
&lt;graph id="MosaicGraph"&gt;
  &lt;version&gt;1.0&lt;/version&gt;

  &lt;node id="MosaicNode"&gt;
    &lt;operator&gt;Mosaic&lt;/operator&gt;
    &lt;sources&gt;
       &lt;sourceProducts&gt;${sourceProducts}&lt;/sourceProducts&gt;
    &lt;/sources&gt;

    &lt;parameters&gt;
        &lt;variables&gt;
            &lt;variable&gt;
                &lt;name&gt;${band}&lt;/name&gt;
                &lt;expression&gt;${band}&lt;/expression&gt;
            &lt;/variable&gt;
        &lt;/variables&gt;
        &lt;conditions&gt;
            &lt;condition&gt;
                &lt;name&gt;condition_0&lt;/name&gt;
                &lt;expression&gt;${expression}&lt;/expression&gt;
                &lt;output&gt;false&lt;/output&gt;
            &lt;/condition&gt;
        &lt;/conditions&gt;
        &lt;combine&gt;OR&lt;/combine&gt;
        &lt;crs&gt;${crs}&lt;/crs&gt;
        &lt;resampling&gt;${resampling}&lt;/resampling&gt;
        &lt;westBound&gt;${west}&lt;/westBound&gt;
        &lt;northBound&gt;${north}&lt;/northBound&gt;
        &lt;eastBound&gt;${east}&lt;/eastBound&gt;
        &lt;southBound&gt;${south}&lt;/southBound&gt;
        &lt;pixelSizeX&gt;${pixelSize}&lt;/pixelSizeX&gt;
        &lt;pixelSizeY&gt;${pixelSize}&lt;/pixelSizeY&gt;
    &lt;/parameters&gt;

  &lt;/node&gt;
&lt;/graph&gt;
</pre>
</td></tr></table>



<br>
<p>
<b>File = mosaicGeoLatLonGulfOfMexico.par</b> <br>
    These are the parameters which get passed in to fill out the variables in the xml file (mosaicGeneral.xml)
</p>
<table><tr><td bgcolor="#dddddd">

<pre>
band=chlor_a
expression=!l2_flags.HIGLINT and !l2_flags.HISATZEN and !l2_flags.LOWLW and !l2_flags.HILT and !l2_flags.CLDICE
crs=GEOGCS["WGS84(DD)", DATUM["WGS84", SPHEROID["WGS84", 6378137.0, 298.257223563]], PRIMEM["Greenwich", 0.0], UNIT["degree", 0.017453292519943295], AXIS["Geodetic longitude", EAST], AXIS["Geodetic latitude", NORTH]]
north=31.0
south=17.5
west=-98.5
east=-80.0
pixelSize=1000.0
resampling=Nearest
</pre>
</td></tr></table>



<br>
<p>
<b>File = mosaicLambertAzimuthalGulfOfMexico.par</b> <br>
These are the parameters which get passed in to fill out the variables in the xml file (mosaicGeneral.xml)
</p>
<table><tr><td bgcolor="#dddddd">

<pre>
band=chlor_a
expression=!l2_flags.HIGLINT and !l2_flags.HISATZEN and !l2_flags.LOWLW and !l2_flags.HILT and !l2_flags.CLDICE
crs=PROJCS["Lambert_Azimuthal_Equal_Area / World Geodetic System 1984",GEOGCS["World Geodetic System 1984",DATUM["World Geodetic System 1984",SPHEROID["WGS 84", 6378137.0, 298.257223563, AUTHORITY["EPSG","7030"]],AUTHORITY["EPSG","6326"]],PRIMEM["Greenwich", 0.0, AUTHORITY["EPSG","8901"]],UNIT["degree", 0.017453292519943295],AXIS["Geodetic longitude", EAST],AXIS["Geodetic latitude", NORTH]],PROJECTION["Lambert_Azimuthal_Equal_Area"],PARAMETER["latitude_of_center", 25.0],PARAMETER["longitude_of_center", -90.0],PARAMETER["false_easting", 0.0],PARAMETER["false_northing", 0.0],UNIT["m", 1.0],AXIS["Easting", EAST],AXIS["Northing", NORTH]]
north=31.0
south=17.5
west=-98.5
east=-80.0
pixelSize=1000.0
resampling=Nearest
</pre>
</td></tr></table>

<br>
<p>
<b>File = mosaicObliqueStereographicGulfOfMexico.par</b> <br>
These are the parameters which get passed in to fill out the variables in the xml file (mosaicGeneral.xml)
</p>
<table><tr><td bgcolor="#dddddd">
<pre>
band=chlor_a
expression=!l2_flags.HIGLINT and !l2_flags.HISATZEN and !l2_flags.LOWLW and !l2_flags.HILT and !l2_flags.CLDICE
crs=PROJCS["Oblique_Stereographic / World Geodetic System 1984",GEOGCS["World Geodetic System 1984", DATUM["World Geodetic System 1984", SPHEROID["WGS 84", 6378137.0, 298.257223563, AUTHORITY["EPSG","7030"]], AUTHORITY["EPSG","6326"]], PRIMEM["Greenwich", 0.0, AUTHORITY["EPSG","8901"]], UNIT["degree", 0.017453292519943295], AXIS["Geodetic longitude", EAST], AXIS["Geodetic latitude", NORTH]], PROJECTION["Oblique_Stereographic"], PARAMETER["central_meridian", -90.0], PARAMETER["latitude_of_origin", 25.0], PARAMETER["scale_factor", 1.0], PARAMETER["false_easting", 0.0], PARAMETER["false_northing", 0.0], UNIT["m", 1.0], AXIS["Easting", EAST], AXIS["Northing", NORTH]]
north=31.0
south=17.5
west=-98.5
east=-80.0
pixelSize=1000.0
resampling=Nearest
</pre>
</td></tr></table>

<br>
<p>
<b>File = level2Files.txt</b><br>
    This is a list of level2 files for a 3 day period imaged by MODIS Aqua over the Gulf of Mexico region
</p>
<table><tr><td bgcolor="#dddddd">
<pre>
A2017021180500.L2_LAC_OC.nc
A2017021181000.L2_LAC_OC.nc
A2017021194500.L2_LAC_OC.nc
A2017021195000.L2_LAC_OC.nc
A2017022185000.L2_LAC_OC.nc
A2017022185500.L2_LAC_OC.nc
A2017022202500.L2_LAC_OC.nc
A2017022203000.L2_LAC_OC.nc
A2017023175500.L2_LAC_OC.nc
A2017023193000.L2_LAC_OC.nc
A2017023193500.L2_LAC_OC.nc
</pre>
</td></tr></table>

</body>
</html>
